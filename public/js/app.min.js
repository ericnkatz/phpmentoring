"use strict";var mentoringApp=angular.module("mentoringApp",[]),controllers={};mentoringApp.filter("apprenticeTags",function(){return function(r,n){return r.filter(function(r){if("undefined"==typeof n||0==n.length)return!0;n=n.toLowerCase();for(var e in r.apprenticeTags){var o=r.apprenticeTags[e].name.toLowerCase();if(o.indexOf(n)>-1)return!0}return!1})}}),mentoringApp.filter("mentorTags",function(){return function(r,n){return r.filter(function(r){if("undefined"==typeof n||0==n.length)return!0;n=n.toLowerCase();for(var e in r.mentorTags){var o=r.mentorTags[e].name.toLowerCase();if(o.indexOf(n)>-1)return!0}return!1})}}),mentoringApp.filter("unsafe",function(r){return r.trustAsHtml}),mentoringApp.directive("markdownPreview",function(r,n,e){return{replace:!0,link:function(o,t,i){o.generatePreview=function(){o.loading=!0;var t=$("#"+i.rawBody).val();r.post("/api/v0/to-markdown",{raw:t}).success(function(r){o.loading=!1,"markdown"in r?(o.preview=n.trustAsHtml(r.markdown),e(function(){Prism.highlightAll()},50)):o.loadingError=!0}).error(function(r,n,e,t){o.loading=!1,o.loadingError=!0})},$("#"+i.generateClick).click(function(){o.generatePreview()})},template:'<div class="markdown_preview"><div data-ng-show="!loading"> <span class="markdown_preview" ng-bind-html="preview" data-ng-show="!loadingError"></span> <div class="alert alert-danger" role="alert" data-ng-show="loadingError"> <strong>Oops!</strong> There was an error while trying to generate your preview. </div> </div> <div data-ng-show="loading"> <p>Loading...</p> </div></div>'}}),controllers.MentorSearchController=function(r,n,e){r.mentors=[],r.loadingError=!1,n.get("/api/v0/mentors").success(function(n,o,t,i){console.log("asfasdf"),r.mentors=n,e(function(){Prism.highlightAll()},50)}).error(function(n,e,o,t){r.loadingError=!0})},controllers.ApprenticeSearchController=function(r,n,e){r.apprentices=[],r.loadingError=!1,n.get("/api/v0/apprentices").success(function(n,o,t,i){r.apprentices=n,e(function(){Prism.highlightAll()},50)}).error(function(n,e,o,t){r.loadingError=!0})},mentoringApp.controller(controllers);